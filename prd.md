# MV ESCAPE — 제품 기획서 (PRD)

**K-pop 뮤직비디오 방탈출 게임**

Version 2.2 | 2026년 2월
플랫폼: 웹앱 (React / Next.js) | 타겟: K-pop 팬 (10~20대)

---

## 1. 제품 개요

### 1.1 비전

> YouTube 뮤비 URL 하나 넣으면, 멤버들이 갇힌 뮤비 세계에서 그들을 구출하는 2D 픽셀 방탈출 게임이 자동 생성됩니다.

MV Escape는 K-pop 뮤직비디오를 **인터랙티브 2D 픽셀 방탈출 게임**으로 변환하는 웹 기반 서비스입니다. 유저가 YouTube 뮤비 URL을 입력하면, AI가 영상에서 스토리라인, 배경 이미지, 상징적 오브젝트를 추출하여 멤버 수만큼의 방(Room)을 자동 생성합니다. 각 방에서 멤버와 LLM 기반 채팅을 하며 퀴즈를 풀고, 멤버를 구출하는 것이 목표입니다.

### 1.2 세계관

**콘서트가 시작됐는데, 멤버들이 뮤비 속에 갇혀있다?!**

콘서트 시작 직전, 그룹 멤버들이 뮤비 세계에 빠져들어 갇혀버립니다. 무대에서는 시간을 벌기 위해 타이틀곡이 흘러나오고 있는 상황. 플레이어는 뮤비 속 각 멤버의 방에 들어가 퀴즈를 풀고, 멤버와 대화하며, **곡이 끝나기 전에** 모든 멤버를 구출해야 합니다.

핵심 포인트: **뮤비(곡) 재생 시간 = 게임 제한 시간**입니다. 3분 30초짜리 곡이면 3분 30초 안에 모든 방을 클리어해야 합니다.

### 1.3 핵심 차별화 포인트

- **멤버 = 방** 구조로 팬덤 심리를 정확히 건드립니다. 최애 멤버를 구출하고 싶은 동기부여가 자연스럽게 발생합니다.
- **LLM 기반 멤버 채팅**으로 멤버와 직접 대화하는 몰입감을 제공합니다. 각 멤버의 말투/성격을 반영한 AI 채팅이 핵심 경험입니다.
- **2D 픽셀 아트 스타일**로 뮤비 배경을 재해석하여 게임 특유의 레트로 감성을 더합니다.
- **곡 재생 시간 = 타임리밋**이라는 독창적 긴장감으로, 뮤비를 BGM으로 들으며 플레이합니다.
- **콘텐츠 제작 비용 제로** — 뮤비 자체가 게임 콘텐츠가 됩니다.

### 1.4 입출력 정의

| 구분 | 내용 |
|------|------|
| **Input** | YouTube 뮤비 링크 (멤버 정보는 자동 검색) |
| **Output** | 방탈출 기반 인터랙티브 2D 픽셀 게임 |

### 1.5 타겟 유저

| 항목 | 설명 |
|------|------|
| 연령층 | 10~20대 K-pop 팬 |
| 특성 | 뮤비 해석 문화에 익숙, 멤버 개별 콘텐츠 소비 성향 높음, SNS 공유 활발 |
| 플랫폼 | 모바일 웹 우선 (10대 스마트폰 사용 비율 고려) |
| 사용 시간 | 1회 플레이 3~5분 (곡 길이 기반) |

---

## 2. 핵심 콘셉트: 멤버 구출 방탈출

### 2.1 게임 구조

뮤비를 입력하면 뮤비 속 공간들이 하나의 **연결된 2D 픽셀 월드**로 재구성됩니다. 포켓몬처럼 플레이어가 자유롭게 돌아다니며 뮤비 속 장소들을 탐색하고, 각 장소에 갇힌 멤버를 찾아 구출하는 방식입니다. 별도의 로비 화면 없이, **월드 탐색 자체가 곧 게임**입니다.

예를 들어 블랙핑크(4인조) 뮤비를 입력하면, 뮤비에 등장하는 장소들(저택, 정원, 바다, 무대)이 하나의 맵으로 연결됩니다:

- 🏰 **저택 구역 (제니)** — 뮤비 초반 저택 씬 → 픽셀 아트 변환
- 🌿 **정원 구역 (지수)** — 뮤비 중반 정원 씬 → 픽셀 아트 변환
- 🌊 **바다 구역 (로제)** — 뮤비 후반 바다 씬 → 픽셀 아트 변환
- 🎤 **무대 구역 (리사)** — 뮤비 클라이맥스 무대 씬 → 픽셀 아트 변환

플레이어는 월드를 자유롭게 이동하며 원하는 구역부터 탐색할 수 있고, **뮤비 곡이 BGM으로 재생되는 동안** 모든 멤버를 구출해야 합니다. 곡이 끝나면 게임 오버!

### 2.2 게임플레이 흐름

로비와 게임플레이가 분리되지 않습니다. 플레이어는 하나의 월드 안에서 이동, 탐색, 퍼즐, 채팅을 모두 수행합니다.

**화면 구성 (상시 표시)**
- 메인 영역: 2D 픽셀 월드 (플레이어가 돌아다니는 공간)
- 상단 위젯: 곡 타이머 (남은 시간) + 구출 현황 (멤버 픽셀 아이콘, 구출됨/갇혀있음 상태)
- 하단/사이드: 인터랙션 시 채팅 패널, 퀴즈 UI가 오버레이로 등장

**탐색 흐름**

플레이어는 월드를 자유롭게 이동합니다. 구역 간 이동은 포켓몬처럼 맵 경계를 넘으면 자연스럽게 다음 구역으로 전환됩니다. 각 구역은 뮤비 배경 프레임을 픽셀 아트로 변환한 것이므로, 실제로 뮤비 속 공간을 걸어 다니는 느낌을 줍니다.

**구역 내 플레이**

Step 1. **공간 탐색** — 구역을 돌아다니며 상징적 오브젝트를 발견합니다. 오브젝트에 가까이 가면 인터랙션 가능 표시가 뜹니다.

Step 2. **멤버 발견 & 채팅** — 구역 어딘가에 갇힌 멤버를 찾으면 대화가 시작됩니다. LLM 기반 채팅으로 멤버의 실제 말투가 반영되며, 대화 속에서 퀴즈 힌트를 얻을 수 있습니다.

Step 3. **퀴즈 풀기** — 멤버와 대화하며 퀴즈를 맞추면 해당 멤버가 구출됩니다.

Step 4. **다음 구역으로 이동** — 구출 후 월드를 계속 탐색하며 다른 멤버를 찾으러 갑니다. 상단 위젯에서 누가 아직 갇혀있는지 확인할 수 있습니다.

### 2.3 AI가 뮤비에서 추출하는 요소

| 추출 요소 | 설명 | 게임 내 활용 |
|-----------|------|-------------|
| **스토리라인** | 뮤비의 서사/상황을 멤버 수에 맞게 분절 | 각 방의 테마와 퀴즈 소재 |
| **배경 이미지** | 뮤비에 나오는 장소/배경 프레임 | 2D 픽셀 아트로 변환하여 방 배경 |
| **상징적 오브젝트** | 뮤비에서 중요하게 등장하는 물건들 | 방 안 인터랙션 가능한 오브젝트 |
| **멤버별 씬** | 각 멤버의 포커스 씬 | 멤버-방 매칭 |

참고: **멤버 정보(이름, 사진)는 시스템이 자동으로 검색**합니다. 뮤비 제목/아티스트 정보를 기반으로 그룹의 공식 프로필 사진을 자동 수집하고, 이를 2D 픽셀 아트로 변환하여 게임 내 캐릭터로 사용합니다.

### 2.4 퀴즈 유형

| 퀴즈 유형 | 설명 | 예시 |
|-----------|------|------|
| 스토리 기반 | 뮤비 스토리라인에 기반한 질문 | "이 씬에서 멤버가 찾고 있던 것은?" |
| 가사 기반 | 해당 파트의 가사 관련 질문 | "이 파트에서 반복되는 가사는?" |
| 오브젝트 기반 | 뮤비 속 상징적 물건 관련 | "이 방에서 가장 중요한 물건은?" |
| 상황 추론 | 뮤비 상황/맥락 해석 | "왜 멤버가 이 장소에 있을까?" |

### 2.5 LLM 기반 멤버 채팅

각 방에서 갇힌 멤버와 채팅할 수 있습니다. LLM에 멤버의 성격, 말투, 뮤비 맥락을 프롬프트로 주입하여, 실제 멤버와 대화하는 듯한 경험을 제공합니다.

채팅의 역할은 두 가지입니다. 첫째, **힌트 제공** — 멤버에게 물어보면 퀴즈에 대한 힌트를 줍니다 (예: "음... 여기서 중요한 건 그 꽃이야..."). 둘째, **몰입감 강화** — 멤버의 실제 말투로 대화하여 팬심을 자극합니다 (예: "빨리 나 좀 구해줘~").

---

## 3. 자동 생성 파이프라인

### 3.1 전체 플로우

| 단계 | 프로세스 | 기술 요소 |
|------|---------|-----------|
| Step 1 | YouTube URL 입력 및 영상/오디오 다운로드 | yt-dlp, FFmpeg |
| Step 2 | 아티스트/그룹 정보 추출 → 멤버 이름/프로필 사진 자동 검색 | YouTube metadata, 웹 검색 API |
| Step 3 | 씬 체인지 감지 → 배경 이미지 추출 | FFmpeg scene detection, PySceneDetect |
| Step 4 | 뮤비 분석: 스토리라인 추출, 상황 파악 | Vision LLM (GPT-4V / Gemini) |
| Step 5 | 상징적 오브젝트 감지 | YOLO / Vision LLM |
| Step 6 | 멤버 수에 맞춰 스토리라인 분절 → 방 생성 | LLM 기반 스토리 분석 |
| Step 7 | 배경 이미지 + 멤버 프로필 사진 → 2D 픽셀 아트 변환 | 이미지 생성 AI / 픽셀화 알고리즘 |
| Step 8 | 스토리라인별 퀴즈 자동 생성 | LLM (GPT-4 등) |
| Step 9 | 멤버별 채팅 프롬프트 생성 | LLM + 멤버 페르소나 DB |
| Step 10 | 오디오 분석: BPM 감지, 곡 길이 추출 | Web Audio API, librosa |
| Step 11 | 게임 조립: 구역들을 연결된 월드 맵으로 조립 + 오브젝트 배치 + 퀴즈 + 채팅 + 타이머 | 게임 엔진 (React + Canvas) |

### 3.2 멤버 정보 자동 수집

뮤비 URL에서 아티스트/그룹명을 추출한 뒤, 웹 검색을 통해 해당 그룹의 멤버 목록과 공식 프로필 사진을 자동으로 가져옵니다. 수집된 프로필 사진은 2D 픽셀 아트로 변환하여 게임 내 멤버 캐릭터로 사용합니다. AI가 뮤비의 스토리라인을 멤버 수에 맞게 분절하여 각 방을 자동 배정합니다.

### 3.3 2D 픽셀 아트 변환

뮤비 배경 프레임을 게임용 2D 픽셀 아트로 변환하는 것이 비주얼 핵심입니다. 접근법은 두 가지입니다. 첫째, **알고리즘 기반 픽셀화** — 프레임을 저해상도로 다운스케일 후 팔레트 축소하여 픽셀 느낌을 냅니다 (빠르고 저비용). 둘째, **AI 이미지 생성** — 프레임을 참조 이미지로 넣어 픽셀 아트 스타일로 재생성합니다 (고품질, 높은 비용).

MVP에서는 알고리즘 기반을 기본으로, 프리미엄 옵션으로 AI 생성을 제공하는 하이브리드 접근을 권장합니다.

### 3.4 난이도 시스템

곡 길이가 곧 시간 제한이므로, 난이도는 퀴즈와 힌트로 조절합니다.

| 난이도 | 변화 | 타겟 유저 |
|--------|------|-----------|
| Easy | 퀴즈 객관식, 채팅에서 힌트 적극 제공, 오브젝트 하이라이트 | 캐주얼 팬 |
| Normal | 퀴즈 혼합형, 채팅 힌트 보통, 표준 배치 | 일반 K-pop 팬 |
| Hard | 퀴즈 주관식, 채팅 힌트 최소, 오브젝트 숨김 | 코어 팬, 리플레이 유저 |

---

## 4. 유저 플로우

### 4.1 메인 플로우

1. **랜딩** — YouTube 뮤비 URL 입력창만 있는 심플한 화면. 유저가 URL을 붙여넣고 시작 버튼을 누릅니다.
2. **자동 분석** — URL에서 아티스트/그룹 정보를 추출하고, 웹 검색으로 멤버 이름과 공식 프로필 사진을 자동 수집합니다. 동시에 뮤비 영상을 분석하여 스토리라인, 배경, 오브젝트를 추출합니다. 배경 프레임과 멤버 프로필은 2D 픽셀 아트로 변환되고, 뮤비 속 장소들이 하나의 연결된 월드 맵으로 조립됩니다.
3. **세계관 진입 (로딩)** — 분석이 진행되는 동안 세계관을 설명하는 컷씬이 재생됩니다: *"콘서트가 시작됐다! 그런데... 멤버들이 뮤비 속에 갇혀버렸다?! 무대에서는 시간을 끌기 위해 타이틀곡을 틀고 있는 상황... 곡이 끝나기 전에 뮤비 속으로 들어가서 멤버들을 전원 구출하자!!"* 이 컷씬이 유저를 게임 세계관에 몰입시키면서 자연스럽게 로딩 시간을 커버합니다.
4. **월드 탐색 시작** — 컷씬이 끝나면 타이틀곡이 재생되며 타이머가 시작됩니다. 플레이어는 뮤비 배경으로 구성된 2D 픽셀 월드에 바로 드롭됩니다. 별도 로비 없이, 포켓몬처럼 자유롭게 돌아다니며 뮤비 속 공간을 탐색합니다. 상단 위젯에 곡 타이머와 멤버 구출 현황이 항상 표시됩니다.
5. **탐색 & 구출** — 구역 이동 → 오브젝트 발견 → 갇힌 멤버 발견 → 채팅 → 퀴즈 풀기 → 구출 → 다음 구역으로 이동. 이 모든 과정이 하나의 월드 안에서 끊김 없이 진행됩니다.
6. **클리어 or 게임 오버** — 곡이 끝나기 전에 모두 구출하면 클리어! 못하면 게임 오버. 결과 카드 생성 및 SNS 공유.

### 4.2 화면 구성

| 화면 | 핵심 요소 |
|------|-----------|
| 랜딩 페이지 | URL 입력창 하나만 있는 심플한 화면. 시작 버튼. |
| 세계관 컷씬 (로딩) | 스토리 텍스트 애니메이션 ("콘서트 시작! → 멤버들이 갇혔다! → 구출하러 가자!") + 분석 프로그레스 |
| 게임 화면 (단일 화면) | 아래 상세 참조 |
| 결과/공유 | 클리어 카드 (구출 순서, 시간, 남은 시간) + SNS 공유 버튼 |

**게임 화면 상세 (로비 = 게임플레이, 분리 없음)**

게임이 시작되면 단 하나의 화면에서 모든 것이 이루어집니다. 포켓몬처럼 월드를 자유롭게 이동하고, UI 위젯이 항상 오버레이로 표시됩니다.

```
┌─────────────────────────────────────────────┐
│ [♪ 3:12 남음] [🔒제니] [🔒지수] [✅로제] [🔒리사] │  ← 상단 위젯: 타이머 + 구출 현황
├─────────────────────────────────────────────┤
│                                             │
│         뮤비 배경 기반 2D 픽셀 월드            │  ← 메인: 플레이어가 자유롭게 이동
│         (구역 간 자연스러운 전환)               │     뮤비 속 장소를 직접 걸어 다님
│                                             │
│              🧑 ← 플레이어                    │
│                                             │
│    👑 ← 인터랙션 가능 오브젝트                  │
│                                             │
├─────────────────────────────────────────────┤
│ [채팅/퀴즈 패널 - 멤버 발견 시 하단에서 슬라이드업]  │  ← 오버레이: 필요할 때만 등장
└─────────────────────────────────────────────┘
```

- **상단 위젯 (항상 표시)**: 곡 타이머(남은 시간 + 프로그레스 바) + 멤버 구출 현황(픽셀 아이콘으로 🔒갇힘/✅구출 표시)
- **메인 월드 (항상 표시)**: 뮤비 배경 프레임에서 변환된 픽셀 아트 공간. 플레이어 캐릭터가 자유롭게 이동. 구역 경계에서 자연스럽게 다음 뮤비 장소로 전환.
- **인터랙션 오버레이 (필요 시 등장)**: 오브젝트 상호작용, 멤버 채팅, 퀴즈 UI가 화면 하단에서 슬라이드업으로 등장. 월드가 뒤에서 계속 보이므로 몰입감 유지.

---

## 5. 기술 스택

### 5.1 프론트엔드

| 영역 | 기술 | 선택 이유 |
|------|------|-----------|
| 프레임워크 | Next.js 14 (App Router) | SSR/SSG 지원, SEO 최적화, 빠른 초기 로드 |
| 상태 관리 | Zustand | 경량, 간단한 API, 게임 상태 관리에 적합 |
| 게임 렌더링 | React + HTML5 Canvas (Pixi.js) | 2D 픽셀 게임 렌더링 최적화, 터치 지원 |
| 채팅 UI | 커스텀 React 컴포넌트 | LLM 스트리밍 응답 + 말풍선 UI |
| 오디오 처리 | Web Audio API + Tone.js | 뮤비 BGM 재생, 타이머 싱크 |
| 스타일링 | Tailwind CSS + Framer Motion | 빠른 UI 개발 + 부드러운 애니메이션 |

### 5.2 백엔드

| 영역 | 기술 | 선택 이유 |
|------|------|-----------|
| 서버 | Next.js API Routes + Python (FastAPI) | API는 Next.js, 영상 분석은 Python |
| DB | Supabase (PostgreSQL) | 실시간 기능, Auth 내장, 무료 티어 충분 |
| 영상 처리 | FFmpeg + PySceneDetect | 씬 감지, 프레임 추출, 오디오 분리 |
| AI/ML — 영상 분석 | Vision LLM (GPT-4V / Gemini) | 스토리라인 추출, 오브젝트 감지, 상황 분석 |
| AI/ML — 채팅 | GPT-4 / Claude API | 멤버 페르소나 기반 LLM 채팅 |
| AI/ML — 퀴즈 생성 | GPT-4 / Claude API | 스토리 기반 퀴즈 자동 생성 |
| AI/ML — 픽셀 아트 | 픽셀화 알고리즘 + (선택) 이미지 생성 AI | 배경 프레임 → 2D 픽셀 아트 변환 |
| 호스팅 | Vercel (FE) + Railway/Fly.io (Python) | Next.js 최적화, Python 서버 분리 운영 |
| 저장소 | Cloudflare R2 / AWS S3 | 추출된 프레임, 게임 데이터, 픽셀 아트 저장 |

---

## 6. 소셜/바이럴 기능

### 6.1 공유 시스템

클리어 시 자동으로 결과 카드가 생성됩니다. 카드에는 뮤비 썸네일, 구출 순서, 클리어 타임, 남은 시간이 포함됩니다. X(Twitter), Instagram 스토리, 카카오톡 공유를 지원하며, *"[MV명] 콘서트에서 멤버들을 [X분 Y초] 만에 전원 구출! 🎵🚪 너도 도전해봐"* 형식의 자동 텍스트가 생성됩니다.

### 6.2 랭킹 시스템

뮤비별 전체 랭킹과 멤버 방별 랭킹을 분리하여 제공합니다. "[MV명] 최단 구출 1등" 같은 배지 시스템을 통해 경쟁 요소를 강화하고, 주간/월간 랭킹 리셋으로 신규 유저에게도 기회를 제공합니다.

### 6.3 커뮤니티

유저가 직접 뮤비 URL을 입력해 생성한 게임을 커뮤니티에 공개할 수 있습니다. "인기 MV 게임", "최신 컴백 MV 게임" 등의 큐레이션을 통해 새로운 게임을 발견할 수 있습니다.

---

## 7. 수익 모델 옵션

아직 수익 모델은 미정이므로, 검토 가능한 3가지 옵션을 제안합니다.

| 모델 | 설명 | 장단점 |
|------|------|--------|
| Freemium | 월 3회 무료 생성, 무제한 생성은 월 ₩4,900 구독 | 장: 안정적 매출 / 단: 캐주얼 유저 이탈 우려 |
| 광고 기반 | 무료 사용 + 게임 사이 인터스티셜 광고 | 장: 진입장벽 제로 / 단: UX 저하 우려 |
| 하이브리드 | 기본 무료 + 프리미엄 픽셀 아트/멤버 보이스 팩 판매 | 장: 유연한 수익화 / 단: 과금 가능성 관리 필요 |

**추천:** MVP 단계에서는 완전 무료로 운영하여 유저 획득에 집중하고, 유저 데이터를 기반으로 최적의 수익 모델을 결정하는 것을 권장합니다.

---

## 8. 팀 구성 및 역할 분담

### 8.1 팀 구조 (풀스택 개발자 3명)

3명 모두 풀스택 바이브 코더이므로, 기술 레이어가 아닌 **기능 도메인 단위**로 역할을 나눕니다.

| 역할 | 담당자 | 도메인 |
|------|--------|--------|
| 🎬 영상 파이프라인 + AI | Person A | MV 분석, 멤버 자동 검색, 스토리 추출, 퀴즈 생성, 픽셀 아트 변환 |
| 🧩 게임 엔진 + 채팅 | Person B | 2D 픽셀 게임, 오브젝트 인터랙션, LLM 멤버 채팅 |
| 🌐 플랫폼 & 소셜 | Person C | 앱 껍데기, 소셜 기능, 인프라, 타이머/BGM |

### 8.2 상세 업무

**Person A — 🎬 영상 파이프라인 + AI**

뮤비 URL을 게임 데이터로 변환하는 핵심 자동화를 담당합니다. YouTube 영상/오디오 다운로드(yt-dlp), 아티스트 정보 기반 멤버 이름/프로필 사진 자동 검색, 씬 체인지 감지 및 배경 이미지 추출(FFmpeg, PySceneDetect), Vision LLM을 활용한 스토리라인 추출/상황 분석/오브젝트 감지, 스토리라인 기반 퀴즈 자동 생성, 배경 이미지 및 멤버 프로필의 2D 픽셀 아트 변환이 포함됩니다.

**Person B — 🧩 게임 엔진 + 채팅**

유저가 직접 인터랙션하는 게임 경험 전체를 담당합니다. 2D 픽셀 월드 엔진(React + Canvas/Pixi.js) — 포켓몬 스타일의 자유 이동, 구역 간 자연스러운 전환, 카메라 추적. 오브젝트 배치 및 인터랙션 시스템. LLM 기반 멤버 채팅 시스템(프롬프트 엔지니어링 + 스트리밍 UI). 퀴즈 UI 및 정답 판정 로직. 멤버 구출 애니메이션. 상단 위젯(타이머 + 구출 현황) 및 하단 오버레이(채팅/퀴즈 패널)가 포함됩니다.

**Person C — 🌐 플랫폼 & 소셜**

앱의 껍데기와 소셜/커뮤니티 기능 전체를 담당합니다. 랜딩 페이지(URL 입력), 세계관 컷씬(로딩 화면), 유저 인증(Supabase Auth), 타이머/BGM 시스템, 결과 카드 생성 및 SNS 공유, 랭킹/커뮤니티 기능, 반응형 모바일 최적화가 포함됩니다.

### 8.3 인터페이스 규약

첫 주에 반드시 합의해야 할 핵심 과제는 세 도메인 간의 **JSON 데이터 인터페이스**입니다.

**인터페이스 1: 파이프라인 → 게임 엔진**

```json
{
  "mv_id": "string",
  "title": "string",
  "artist": "string",
  "audio_url": "string",
  "duration_seconds": 210,
  "bpm": 128,
  "map": {
    "zones": [
      {
        "zone_id": "mansion",
        "member_name": "제니",
        "background_pixel_art_url": "zone_pixelart_url",
        "width": 800,
        "height": 600,
        "connections": [
          { "to_zone": "garden", "edge": "right", "position_y": 300 }
        ],
        "member_position": { "x": 400, "y": 200 },
        "object_positions": [
          { "label": "거울", "x": 150, "y": 300, "is_key_object": true }
        ]
      }
    ],
    "spawn_zone": "mansion",
    "player_start_position": { "x": 100, "y": 400 }
  },
  "members": [
    {
      "name": "제니",
      "profile_photo_url": "auto_fetched_url",
      "pixel_avatar_url": "pixel_converted_url",
      "room": {
        "storyline": "어두운 저택에 갇혀있는 제니. 거울 속에 단서가...",
        "background_pixel_art_url": "pixelart_url",
        "original_scene_url": "frame_url",
        "objects": [
          { "label": "거울", "bbox": [x, y, w, h], "is_key_object": true },
          { "label": "왕관", "bbox": [x, y, w, h], "is_key_object": false }
        ],
        "quiz": {
          "question": "제니가 거울에서 본 것은?",
          "type": "multiple_choice",
          "options": ["과거의 자신", "다른 멤버", "열쇠", "빛"],
          "answer": "과거의 자신"
        },
        "chat_persona_prompt": "너는 블랙핑크 제니야. 저택 거울 방에 갇혀있어..."
      }
    }
  ]
}
```

**인터페이스 2: 게임 엔진 → 플랫폼**

```json
{
  "game_id": "string",
  "mv_id": "string",
  "result": {
    "is_cleared": true,
    "total_time_seconds": 185,
    "remaining_seconds": 25,
    "rescue_order": ["로제", "리사", "지수", "제니"],
    "per_room_stats": [
      { "member": "로제", "time_seconds": 35, "chat_messages": 4, "hints_used": 1 }
    ]
  }
}
```

### 8.4 Phase별 인원 배분

**Phase 1 — MVP (1~6주차)**

| 담당자 | 집중 업무 |
|--------|-----------|
| A | 뮤비 분석 파이프라인 (멤버 자동 검색 + 스토리 추출 + 배경 추출 + 픽셀화 + 퀴즈 생성) |
| B | 2D 픽셀 월드 엔진 (자유 이동 + 구역 전환 + 카메라) + 오브젝트 인터랙션 + 기본 퀴즈 UI |
| C | 랜딩(URL 입력) + 세계관 컷씬 + 타이머/BGM |

**Phase 2 — LLM 채팅 (7~10주차)**

| 담당자 | 집중 업무 |
|--------|-----------|
| A | 멤버 페르소나 프롬프트 시스템 + 퀴즈 품질 개선 |
| B | LLM 채팅 엔진 (스트리밍 UI + 힌트 로직) |
| C | 결과 카드 생성 + SNS 공유 |

**Phase 3 — 소셜 (11~14주차)**

| 담당자 | 집중 업무 |
|--------|-----------|
| A | 픽셀 아트 품질 개선 + 오브젝트 감지 고도화 |
| B | 구출 애니메이션 + 게임 폴리싱 |
| C | 랭킹 + 커뮤니티 + 수익화 실험 |

**Phase 4 — 고도화 (15~20주차)**

| 담당자 | 집중 업무 |
|--------|-----------|
| A | 멤버 검색 정확도 개선, 파이프라인 최적화 |
| B | 추가 인터랙션 유형, 멀티플레이 탐색 |
| C | 분석, A/B 테스팅, 수익화 본격 적용 |

---

## 9. 리스크 및 고려사항

### 9.1 기술적 리스크

| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| YouTube 다운로드 제한 | 서비스 자체가 불가능해질 수 있음 (높음) | 직접 업로드 대체 수단 준비, 음원사 API 협력 검토 |
| LLM 채팅 비용 | 유저당 API 비용이 높을 수 있음 (중간) | 채팅 횟수 제한, 캐싱, 경량 모델 혼합 사용 |
| 멤버 프로필 검색 정확도 | 신인/비주류 그룹은 검색 결과가 부정확할 수 있음 (중간) | 검색 실패 시 유저 수동 입력 폴백 제공 |
| 픽셀 아트 품질 | 자동 변환 품질이 기대에 못 미칠 수 있음 (중간) | 알고리즘 + AI 하이브리드, 수동 보정 옵션 |
| 스토리라인 추출 정확도 | 추상적 뮤비에서는 의미 있는 스토리 추출이 어려움 (중간) | 유저 수정 기능 제공, 추상적 뮤비용 기본 템플릿 |
| 곡 길이 기반 난이도 | 짧은 곡은 너무 어렵고 긴 곡은 너무 쉬울 수 있음 (낮음) | 곡 길이에 따른 방 수/퀴즈 난이도 자동 조절 |

### 9.2 법적 고려사항

YouTube 영상의 프레임을 게임에 활용하는 것에 대한 저작권 문제를 반드시 검토해야 합니다. 픽셀 아트로 변환하는 것은 변환적 사용(transformative use)으로 볼 여지가 있으나, 음원사와의 협력 또는 라이선스 모델을 장기적으로 고려해야 합니다. MVP 단계에서는 유저가 개인적으로 즉시 플레이하는 형태로 운영하며, 영상 자체를 저장/배포하지 않는 방식을 권장합니다.

### 9.3 성공 지표 (KPI)

| 지표 | MVP 목표 (3개월) | 성장 목표 (6개월) |
|------|-----------------|------------------|
| 월간 활성 유저 (MAU) | 1,000명 | 10,000명 |
| 게임 생성 수 | 월 500개 | 월 5,000개 |
| 평균 플레이 시간 | 곡 길이의 80% 이상 | 곡 길이의 90% 이상 |
| 구출 성공률 | 40~60% (적절한 난이도) | 50~70% |
| 공유 전환율 | 클리어 유저 중 10% | 클리어 유저 중 20% |

---

*MV Escape — 콘서트가 시작됐는데 멤버들이 뮤비에 갇혀있다?! 🎵🚪*
